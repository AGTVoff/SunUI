-- src/window.lua
return function(SunUI)
    local Window = {}
    local Theme = SunUI.Theme
    local Utils = SunUI.Utils
    local Components = SunUI.Components

    function Window:Create(title)
        local Gui = SunUI.Core:Init(title)
        local Frame = Instance.new("Frame", Gui)
        Frame.Size = UDim2.new(0, 500, 0, 350)
        Frame.Position = UDim2.new(0.5, -250, 0.5, -175)
        Frame.BackgroundColor3 = Theme.Background
        Frame.BorderSizePixel = 0
        Instance.new("UICorner", Frame).CornerRadius = Theme.CornerRadius

        local Border = Instance.new("UIStroke", Frame)
        Border.Thickness = Theme.BorderThickness
        task.spawn(function()
            while task.wait(0.05) do
                Border.Color = Theme:GetRGBColor(tick())
            end
        end)

        local TitleLabel = Instance.new("TextLabel", Frame)
        TitleLabel.Size = UDim2.new(1, 0, 0, 35)
        TitleLabel.BackgroundTransparency = 1
        TitleLabel.Text = title
        TitleLabel.Font = Enum.Font.GothamBold
        TitleLabel.TextSize = 20
        TitleLabel.TextColor3 = Theme.Accent

        Utils:MakeDraggable(Frame, TitleLabel)

        function Frame:AddTab(name)
            local tab = Components:CreateTab(Frame, name, Theme)
            return tab
        end

        return Frame
    end

    return Window
end
